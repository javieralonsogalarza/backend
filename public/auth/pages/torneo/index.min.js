$((function(){const $viewName=getData().ViewName,$host=window.location.href,$list_cards_content=$("#list-cards-content"),$body=$("body"),$reportrange=$("#reportrange"),$btnRegistrar=$(`#btnRegistrar${$viewName.charAt(0).toUpperCase()+$viewName.slice(1)}`),$main=$("#main"),$info=$("#info");$(window).scroll((function(){window.screenY>100&&listPagination(!1)}));const $filter_anio=$("#filter_anio");function listPagination(reset){const $Page=reset?$host+"/?page=1":$list_cards_content.data("next-page"),$Filters=`filter_anio=${$filter_anio.val()}`;null!=$Page&&(reset?(console.log("loading.."),$.get($Page+"&"+$Filters,(function(data){$list_cards_content.html("").append(data.lists),$list_cards_content.data("next-page",data.next_page)})).always((function(){console.log("finish..")}))):(clearTimeout($.data(this,"scrollCheck")),$.data(this,"scrollCheck",setTimeout((function(){$.data(this,"scrollCheck",setTimeout((function(){var scroll_postion_for_load;$(window).height()+$(window).scrollTop()+100>=$(document).height()&&null!=$Page&&(console.log("loading2.."),$.get($Page+"&"+$Filters,(function(data){$list_cards_content.append(data.lists),$list_cards_content.data("next-page",data.next_page)})).done((function(){console.log("finish2..")})))})))}),350))))}$filter_anio.select2({placeholder:"--Todos--",allowClear:!0,ajax:{url:"/torneos/anios",dataType:"json",type:"GET",delay:250,data:function(params){return{nombre:params.term}},processResults:function(data){return{results:data.data}},cache:!0}}),listPagination(!0),$filter_anio.on("change",(function(){listPagination(!0)})),$body.on("click",".list-cards-content .card .btn-delete",(function(){const $this=$(this).closest(".card"),id=$this.attr("data-id"),nombre=$this.attr("data-info"),formData=new FormData;formData.append("_token",$("meta[name=csrf-token]").attr("content")),formData.append("id",id),confirmAjax(`/auth/${$viewName}/delete`,formData,"POST",`¿Está seguro de eliminar el registro ${nombre} ?`,null,(function(){listPagination(!0)}))})),$btnRegistrar.on("click",(function(){invocarModalView()})),$body.on("click",".list-cards-content .card .btn-update",(function(){const $this=$(this).closest(".card"),id=$this.attr("data-id");invocarModalView(id)})),$body.on("click",".list-cards-content .card .btn-detail",(function(){const $this=$(this).closest(".card"),id=$this.attr("data-id");invocarVista(`/auth/${$viewName}/grupo/${id||0}`,(function(data){$body.addClass("sidebar-collapse"),$main.addClass("hidden"),$info.removeClass("hidden").html("").append(data)}))})),invocarModalView=id=>{invocarModal(`/auth/${$viewName}/partialView/${id||0}`,(function($modal){"true"===$modal.attr("data-reload")&&listPagination(!0)}))}}));